var stripe=Stripe("pk_test_51JNNZfAQsfU9qw01GO5plYVqeQjvOQZBg2039DM1IsJfgpvJxyy5j1Dmz4IrPmdba53l73uGE57FvoUQQPRsL3dY00OEGy4OC4"),purchase={items:[{id:"xl-tshirt"}]};document.querySelector("button").disabled=!0,fetch("/wp-content/plugins/freshlondon-toolkit/Stripe/checkout/create.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(purchase)}).then(function(e){return e.json()}).then(function(t){var r=stripe.elements().create("card",{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{fontFamily:"Arial, sans-serif",color:"#fa755a",iconColor:"#fa755a"}}});r.mount("#card-element"),r.on("change",function(e){document.querySelector("button").disabled=e.empty,document.querySelector("#card-error").textContent=e.error?e.error.message:""}),document.getElementById("payment-form").addEventListener("submit",function(e){e.preventDefault(),payWithCard(stripe,r,t.clientSecret)})});var payWithCard=function(e,t,r){loading(!0),e.confirmCardPayment(r,{payment_method:{card:t}}).then(function(e){e.error?showError(e.error.message):orderComplete(e.paymentIntent.id)})},orderComplete=function(e){loading(!1),document.querySelector(".result-message a").setAttribute("href","https://dashboard.stripe.com/test/payments/"+e),document.querySelector(".result-message").classList.remove("hidden"),document.querySelector("button").disabled=!0},showError=function(e){loading(!1);var t=document.querySelector("#card-error");t.textContent=e,setTimeout(function(){t.textContent=""},4e3)},loading=function(e){e?(document.querySelector("button").disabled=!0,document.querySelector("#spinner").classList.remove("hidden"),document.querySelector("#button-text").classList.add("hidden")):(document.querySelector("button").disabled=!1,document.querySelector("#spinner").classList.add("hidden"),document.querySelector("#button-text").classList.remove("hidden"))};